
#include <coopy/PolyBook.h>

using namespace coopy::store;

#cmakedefine USE_GNUMERIC

#ifdef USE_GNUMERIC
#include <coopy/GnumericTextBookFactory.h>
#endif

TextBook *readHelper(const char *fname,
		     const char *ext,
		     const char *data) {
  TextBook *result = NULL;
#ifdef USE_GNUMERIC
  printf("Checking with Gnumeric...\n");
  GnumericTextBookFactory fact;
  if (fact.check(fname,ext,data)) {
    result = fact.load(fname);
  }
  if (result!=NULL) {
    printf("Got a Gnumeric-readable file\n");
    return result;
  }
#endif
  return result;
}

